# 整体架构


如前文所述，假设日志服务输出中的数据是 `SimpleFeatures` 格式的 `protobuf` 数据, 我们需要将这些
数据转成 `gridbuffer` 格式，发送到用于存储的对应的 `worker` 节点上，`worker` 上的 `server` 进程负责将数据
根据时间戳保存到不同的分区中，并保证分区中的数据也是根据时间戳进行排序的。同时记录分区、路径等关键信息到原数据管理
模块中。在客户端读取数据时，从不同的分区读取对应的数据, 并进行相应的过滤处理，再返回结果。

整体架构如下:

TODO: 画图

核心模块如下:
- `core`: 核心的数据结构以及算法模块，负责样本的各种处理，如合并、过滤、转换等。
- `meta server`: 元数据管理模块，负责管理样本的元数据信息，如样本的名称、大小、分区等。
- `sinker`: 数据同步模块，负责将样本发送到存储 `worker` 上。
- `server`: `worker` 模块，负责实际的数据存储、读取等功能。
- `client`: 客户端，负责与 `meta server` 进行交互，获取样本数据。